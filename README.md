
---

# TODO Application with User Authentication

## Description

This project demonstrates how to build a simple TODO application with user authentication using Node.js, TypeScript, Express, Prisma, and PostgreSQL. It covers key concepts like data modeling, API design, user management, and secure data handling.

## Modules Used

- **Node.js:** The runtime environment for executing JavaScript code on the server-side.
- **TypeScript:** A superset of JavaScript that adds static typing, enhancing code readability and maintainability.
- **Express:** A popular Node.js web framework for creating APIs and web applications.
- **Prisma:** An ORM (Object-Relational Mapper) that simplifies database interactions and provides type-safe data access.
- **PostgreSQL:** A powerful relational database management system known for its reliability and data integrity.
- **Zod:** A data validation library that helps ensure the correctness of user input and prevents potential security vulnerabilities.

## Project Structure

- **src/index.ts:** Contains core logic for user management, including functions for inserting, updating, and retrieving users using Prisma.
- **src/server.ts:** Sets up the Express server and defines API endpoints for user signup, signin, retrieving users, adding todos, and retrieving todos for a specific user. Uses Zod for data validation.
- **prisma/schema.prisma:** Defines the data model for the application using Prisma's schema definition language, specifying the User and Todo models and their relationships.
- **prisma/migrations:** Stores database migration files generated by Prisma to track and apply changes to the database schema.

## Setup Instructions

1. Clone the repository:

    ```bash
    git clone https://github.com/your-username/todo-postgres-prisma.git
    ```

2. Install dependencies:

    ```bash
    cd todo-postgres-prisma
    npm install
    ```

3. Set up the database:

    - Create a PostgreSQL database.
    - Update the `DATABASE_URL` environment variable in `.env` to point to your database.
    - Run `npx prisma migrate dev` to apply database migrations.

4. Start the server:

    ```bash
    npm run dev
    ```

## Project Functionality

- **User Signup:** Allows users to create new accounts with email, first name, last name, and password.
- **User Signin:** Authenticates users with their email and password.
- **Get Users:** Retrieves a list of all users (for administrative purposes).
- **Add Todos:** Enables authenticated users to create new TODO items with title, description, and association to their user ID.
- **Get Todos:** Fetches TODO items for a specific user based on their user ID.

## Vulnerabilities and Solutions

- **Password Storage:** Storing passwords in plain text is highly insecure. Use strong password hashing algorithms like bcrypt or Argon2 to protect passwords.
- **SQL Injection:** Validate user input rigorously using Zod or similar libraries to prevent malicious SQL queries from being injected.
- **Cross-Site Scripting (XSS):** Sanitize user-generated content before displaying it to prevent XSS attacks.
- **Cross-Site Request Forgery (CSRF):** Implement CSRF protection mechanisms like CSRF tokens to mitigate CSRF attacks.

## Best Practices

- **Use Environment Variables:** Store sensitive information like database credentials in environment variables instead of hardcoding them in the code.
- **Implement Proper Error Handling:** Catch and handle errors gracefully to prevent unexpected application crashes.
- **Write Unit Tests:** Ensure code quality and correctness by writing unit tests for critical functions.
- **Follow Secure Coding Practices:** Adhere to established security guidelines to minimize vulnerabilities.

## End Result

This project provides a foundation for building a secure and functional TODO application with user authentication. You can further enhance it by adding features like:

- TODO editing and deletion: Allow users to modify or remove existing TODO items.
- TODO marking as completed: Implement a mechanism for users to mark TODOs as done.
- User profile management: Enable users to update their profile information.
- Advanced security features: Consider adding two-factor authentication or other security measures.

By following best practices and addressing potential vulnerabilities, you can create a robust and reliable TODO application that meets security standards.

---